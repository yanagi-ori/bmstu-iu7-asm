# Процессор 8086. Сегментные регистры. Адресация в реальном режиме. Понятие сегментной части адреса и смещения

## Сегментные регистры

* **CS** - _Code Segment_ - используется при выборке инструкций
* **SS** - _Stack Segment_ - используется при работе со стеком
* **DS** и **ES** - _Data Segment_ и _Extra Segment_ - используются при обращении к данным

Сегменты способны оказаться где угодно, программа обращается к ним, применяя вместо полного адреса начала сегмента -
16-битный селектор сегмента, который хранится в соответствующем регистре сегмента.

Каждый сегментный регистр определяет адрес начала сегмента в памяти, при этом сегменты могут совпадать или пересекаться.

## Адресация в реальном режиме

В реальном режиме виртуальный адрес ячейки памяти состоит из двух чисел:

* сегментной части разрядностью 16 бит, по которой вычисляется физический адрес начала сегмента;
* смещения разрядностью 16 бит ячейки памяти от начала сегмента.

В реальном режиме для вычисления физического адреса, адрес из сегмента сдвигают влево на 4 разряда
(можно сказать, что просто приписывают 0 в конце или умножают на 16) и добавляют к нему смещение.

`[SEG]:[OFFSET] => физический адрес : [SEG] * 16 + [OFFSET]`

Например, логический адрес `7522:F139` дает физический адрес 84359.

На адресную шину передается именно физический адрес. Если результат больше, чем 2^20-1, то 21ый бит отбрасывается.

## Понятие сегментной части адреса и смещения

* **Сегментная часть адреса** - адрес начала сегмента, который хранится в соответствующем регистре сегмента.
* **Смещение** - адрес байта относительно начала сегмента.
